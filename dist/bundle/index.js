var localStoreDispatchEvent=function(t){"use strict";var e=function(){function t(t){this.storage=window[t]}return t.prototype.set=function(e,o,r){if(this.storage)try{var i="object"==typeof o?JSON.stringify(o):o;this.storage.setItem(e,i),t.dispatchEvent("set",r,{itemKey:e,itemValue:i})}catch(t){}},t.prototype.setMore=function(t,e){var o=this;Object.keys(t).forEach((function(r){o.set(r,t[r],e)}))},t.prototype.get=function(t){var e;return(null===(e=this.storage)||void 0===e?void 0:e.getItem(t))||null},t.prototype.get2Json=function(t){var e;if(this.storage){var o=null===(e=this.storage)||void 0===e?void 0:e.getItem(t);if(o)try{return JSON.parse(o)}catch(t){}}return null},t.prototype.remove=function(e,o){if(this.storage)try{this.storage.removeItem(e),t.dispatchEvent("remove",o)}catch(t){}},t.prototype.removeMore=function(e,o){var r=this;Array.isArray(e)&&(e.forEach((function(t){r.remove(t)})),t.dispatchEvent("remove",o))},t.prototype.clear=function(e){if(this.storage)try{this.storage.clear(),t.dispatchEvent("clear",e)}catch(t){}},t.dispatchEvent=function(t,e,o){if(e&&window){var r=new Event("storeChange");if(r.triggerAction=t,o){var i=o.itemKey,n=o.itemValue;r.newKey=i,r.newValue=n}window.dispatchEvent(r)}},t}(),o=new e("localStorage"),r=new e("sessionStorage");return t.LocalstorageDispatchEvent=e,t._localStorage=o,t._sessionStorage=r,t}({});

var localStoreDispatchEvent=function(t){"use strict";var e=new(function(){function t(){if(!window||!localStorage||!sessionStorage)throw new Error("当前环境不支持本地存储方案")}return t.prototype.set=function(e,o,n){if(this.setItem)try{var r="object"==typeof o?JSON.stringify(o):o;this.setItem(e,r),t.dispatchEvent("set",n,{itemKey:e,itemValue:r})}catch(t){}},t.prototype.setMore=function(t,e){var o=this;Object.keys(t).forEach((function(n){o.set(n,t[n],e)}))},t.prototype.get=function(t){var e;return(null===(e=this.getItem)||void 0===e?void 0:e.call(this,t))||null},t.prototype.get2Json=function(t){if(this.getItem){var e=this.getItem(t);if(e)try{return JSON.parse(e)}catch(t){}}return null},t.prototype.remove=function(e,o){if(this.removeItem)try{this.removeItem(e),t.dispatchEvent("remove",o)}catch(t){}},t.prototype.removeMore=function(e,o){var n=this;Array.isArray(e)&&(e.forEach((function(t){n.remove(t)})),t.dispatchEvent("remove",o))},t.prototype.clearAll=function(e){if(this.clear)try{this.clear(),t.dispatchEvent("clear",e)}catch(t){}},t.dispatchEvent=function(t,e,o){if(e&&window){var n=new Event("storeChange");if(n.triggerAction=t,o){var r=o.itemKey,i=o.itemValue;n.newKey=r,n.newValue=i}window.dispatchEvent(n)}},t}());Reflect.appendChain=function(t,e){if(arguments.length<2)throw new TypeError("".concat(this.name," Not enough arguments"));if("number"==typeof e||"boolean"==typeof e)throw new TypeError("second argument to Object.appendChain must be an object or a string");var o,n,r,i=e;o=n=r=t instanceof Object?t:new t.constructor(t);for(var a=this.getPrototypeOf(n);a!==Object.prototype&&a!==Function.prototype;a=this.getPrototypeOf(n))n=a;return e.constructor===String&&(i=Function.prototype,o=Function.apply(null,Array.prototype.slice.call(arguments,1)),this.setPrototypeOf(o,r)),this.setPrototypeOf(n,i),o};var o=function(t,e){Reflect.appendChain(t,e)};return t.extendMethodByChain=o,t.extendStorageMethod=function(t){if(void 0===t&&(t="all"),window)switch(t){case"sessionStorage":o(window.sessionStorage,e);break;case"localStorage":o(window.localStorage,e),window.sessionStorage.get2Json("aa");break;default:o(window.sessionStorage,e),o(window.localStorage,e)}},t}({});
